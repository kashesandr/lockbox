{"version":3,"sources":["main.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_Locker","_Auth","_logger","_settings","logger","log","locker","Locker","settings","pin","auth","Auth","DEFAULT_CODE","setCode","isReadyToSetUpNewCode","on","code","authenticated","verifyCode","servo","move","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Utils","_Devices","options","events","servoPin","buttonPin","bluetoothSerial","setupServo","button","setupButton","bluetooth","setupBluetooth","btnClick","e","isFirstPress","firstPressTimestamp","Date","getTime","timestamp","deltaTime","signalTimestamps","push","detectionDebounced","_this","detection","cb","debounce","setWatch","repeat","edge","Servo","serial","_this2","setup","receivedDataArray","finishDebounced","join","data","eventName","callback","func","wait","immediate","timeoutId","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","DEFAULT_DURATION","DEFAULT_INTERVAL","currentInterval","currentPosition","range","offset","position","duration","clearInterval","initialPosition","amt","moveFn","digitalPulse","E","clip","setInterval","Logger","message","arg","BTN1","P3","Serial3","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","Array","isArray","fluctuation","_code$slice","slice","_code$slice2","signalEnd","_code$slice3","_code$slice4","codeEnd","coeff","result","forEach","codeItem","index","stamp","withinRange"],"mappings":"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","file":"main.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"main\"] = factory();\n\telse\n\t\troot[\"main\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _Locker = __webpack_require__(1);\n\t\n\tvar _Auth = __webpack_require__(6);\n\t\n\tvar _logger = __webpack_require__(4);\n\t\n\tvar _settings = __webpack_require__(5);\n\t\n\t_logger.logger.log('main.js');\n\t\n\tvar locker = new _Locker.Locker(_settings.settings.pin);\n\tvar auth = new _Auth.Auth();\n\t\n\t// TODO: set the code manually\n\tvar DEFAULT_CODE = [189.81586904765, 380.28420238092, 591.84163095231, 1036.09701785712, 1266.62794642860, 1892.38363095244, 2117.92424404760];\n\tauth.setCode(DEFAULT_CODE);\n\t\n\tvar isReadyToSetUpNewCode = false;\n\t\n\tlocker.on('code-detected', function (code) {\n\t\n\t  _logger.logger.log('code-detected', code);\n\t\n\t  if (isReadyToSetUpNewCode) {\n\t    auth.setCode(code);\n\t    _logger.logger.log('new code has been set');\n\t    isReadyToSetUpNewCode = false;\n\t  } else {\n\t    var authenticated = auth.verifyCode(code);\n\t    _logger.logger.log('authenticated', authenticated);\n\t    locker.servo.move(authenticated ? 0 : 1);\n\t  }\n\t});\n\t\n\tlocker.on('set-new-code', function () {\n\t  _logger.logger.log('ready to set up new code');\n\t  isReadyToSetUpNewCode = true;\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Locker = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(2);\n\t\n\tvar _Devices = __webpack_require__(3);\n\t\n\tvar _logger = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t_logger.logger.log('Locker.js');\n\t\n\tvar Locker = function () {\n\t  function Locker(options) {\n\t    _classCallCheck(this, Locker);\n\t\n\t    this.events = {};\n\t\n\t    servoPin = options.servoPin;\n\t    buttonPin = options.buttonPin;\n\t    bluetoothSerial = options.bluetoothSerial;\n\t\n\t\n\t    this.servo = this.setupServo(servoPin);\n\t    this.button = this.setupButton(buttonPin);\n\t    this.bluetooth = this.setupBluetooth(bluetoothSerial);\n\t  }\n\t\n\t  _createClass(Locker, [{\n\t    key: \"setupButton\",\n\t    value: function setupButton(pin) {\n\t      var _this = this;\n\t\n\t      _logger.logger.log(\"setupButton\");\n\t\n\t      var isFirstPress = false;\n\t      var firstPressTimestamp = null;\n\t      var signalTimestamps = [];\n\t      var detection = function detection() {\n\t        _logger.logger.log(\"setupButton detection\");\n\t        isFirstPress = true;\n\t        var cb = _this.events['code-detected'] || function () {};\n\t        cb(signalTimestamps);\n\t        signalTimestamps = [];\n\t        firstPressTimestamp = null;\n\t      };\n\t      var detectionDebounced = (0, _Utils.debounce)(detection, 2000);\n\t\n\t      function btnClick(e) {\n\t\n\t        _logger.logger.log(\"setupButton btnClick\");\n\t\n\t        if (isFirstPress) {\n\t          firstPressTimestamp = new Date().getTime();\n\t          isFirstPress = false;\n\t        } else {\n\t          var timestamp = new Date().getTime();\n\t          var deltaTime = timestamp - firstPressTimestamp;\n\t          signalTimestamps.push(deltaTime);\n\t          detectionDebounced();\n\t        }\n\t      }\n\t\n\t      // TODO: setWatch doesn't work after reloading\n\t      setWatch(btnClick, pin, { repeat: true, debounce: 20, edge: 'rising' });\n\t\n\t      return pin;\n\t    }\n\t  }, {\n\t    key: \"setupServo\",\n\t    value: function setupServo(pin) {\n\t      var servo = new _Devices.Servo(pin);\n\t      return servo;\n\t    }\n\t  }, {\n\t    key: \"setupBluetooth\",\n\t    value: function setupBluetooth(serial) {\n\t      var _this2 = this;\n\t\n\t      serial.setup(9600);\n\t\n\t      var receivedDataArray = [];\n\t      var finishDebounced = (0, _Utils.debounce)(function () {\n\t        _this2.events['bluetooth-data-received'](receivedDataArray.join(\"\"));\n\t        receivedDataArray = [];\n\t      }, 100);\n\t\n\t      serial.on('data', function (data) {\n\t        receivedDataArray.push(data);\n\t        finishDebounced();\n\t      });\n\t\n\t      this.on('bluetooth-data-received', function (data) {\n\t\n\t        if (data === \"set\") {\n\t          _this2.events['set-new-code']();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: \"on\",\n\t    value: function on(eventName, callback) {\n\t      this.events[eventName] = callback;\n\t    }\n\t  }]);\n\t\n\t  return Locker;\n\t}();\n\t\n\texports.Locker = Locker;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar debounce = function debounce(func, wait, immediate) {\n\t  var timeoutId = null;\n\t  return function () {\n\t    var context = this,\n\t        args = arguments;\n\t    var later = function later() {\n\t      timeoutId = null;\n\t      if (!immediate) func.apply(context, args);\n\t    };\n\t    var callNow = immediate && !timeoutId;\n\t    if (timeoutId) clearTimeout(timeoutId);\n\t    timeoutId = setTimeout(later, wait);\n\t    if (callNow) func.apply(context, args);\n\t  };\n\t};\n\t\n\texports.debounce = debounce;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Servo = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Servo motor utility module\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       example:\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ```\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         import { Servo } from \"./Devices\";\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         let servo = new Servo(P3);\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         s.move(1); // moving to position 1 over 1 second\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         s.move(0); // moving to position 0 over 1 second\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         s.move(0.5, 3000); // moving to position 0.5 over 3 seconds\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // moving to position 0 over 1 second, then move to position 1\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         s.move(0, 1000, function() {\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           s.move(1, 1000);\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         });\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ```\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\t\n\tvar _logger = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t_logger.logger.log('Devices.js');\n\t\n\tvar DEFAULT_DURATION = 1000;\n\tvar DEFAULT_INTERVAL = 20;\n\tvar Servo = function () {\n\t  function Servo(pin, options) {\n\t    _classCallCheck(this, Servo);\n\t\n\t    this.pin = pin;\n\t    this.currentInterval = null;\n\t    this.currentPosition = null;\n\t    if (options && options.range) {\n\t      this.range = options.range;\n\t      this.offset = 1.5 - options.range / 2;\n\t    } else {\n\t      this.offset = 1;\n\t      this.range = 1;\n\t    }\n\t  }\n\t\n\t  _createClass(Servo, [{\n\t    key: \"move\",\n\t    value: function move(position, duration, cb) {\n\t      var _this = this;\n\t\n\t      if (!duration) duration = DEFAULT_DURATION;\n\t      if (!this.currentPosition) this.currentPosition = position;\n\t      if (this.currentInterval) clearInterval(this.currentInterval);\n\t\n\t      var initialPosition = this.currentPosition;\n\t      var amt = 0;\n\t\n\t      var moveFn = function moveFn() {\n\t\n\t        if (amt > 1) {\n\t          clearInterval(_this.currentInterval);\n\t          delete _this.currentInterval;\n\t          amt = 1;\n\t          if (cb) cb();\n\t        }\n\t        _this.currentPosition = position * amt + initialPosition * (1 - amt);\n\t        digitalPulse(_this.pin, 1, _this.offset + E.clip(_this.currentPosition, 0, 1) * _this.range);\n\t        amt += 1000.0 / (DEFAULT_INTERVAL * duration);\n\t      };\n\t\n\t      this.currentInterval = setInterval(moveFn, DEFAULT_INTERVAL);\n\t    }\n\t  }]);\n\t\n\t  return Servo;\n\t}();\n\t\n\texports.Servo = Servo;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.logger = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _settings = __webpack_require__(5);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Logger = function () {\n\t  function Logger(bluetoothSerial) {\n\t    _classCallCheck(this, Logger);\n\t\n\t    this.bluetoothSerial = bluetoothSerial;\n\t  }\n\t\n\t  _createClass(Logger, [{\n\t    key: 'log',\n\t    value: function log(message, arg) {\n\t      // let txt = `${message}: ${arg}`;\n\t      // if (console && console.log)\n\t      //   console.log(txt);\n\t      // if (this.bluetoothSerial)\n\t      //   this.bluetoothSerial.print(txt);\n\t    }\n\t  }]);\n\t\n\t  return Logger;\n\t}();\n\t\n\tvar logger = new Logger(_settings.settings.pin.bluetoothSerial);\n\t\n\texports.logger = logger;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar settings = {\n\t  pin: {\n\t    buttonPin: BTN1,\n\t    servoPin: P3,\n\t    bluetoothSerial: Serial3\n\t  }\n\t};\n\t\n\texports.settings = settings;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Auth = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _logger = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t_logger.logger.log('Auth.js');\n\t\n\tvar Auth = function () {\n\t  function Auth() {\n\t    _classCallCheck(this, Auth);\n\t\n\t    this.code = []; // storing key code, an array of timestamps\n\t    this.fluctuation = 150;\n\t  }\n\t\n\t  _createClass(Auth, [{\n\t    key: \"setCode\",\n\t    value: function setCode(code) {\n\t      if (!code) return;\n\t      if (!(code instanceof Array)) return;\n\t      this.code = code;\n\t    }\n\t  }, {\n\t    key: \"getCode\",\n\t    value: function getCode() {\n\t      return this.code;\n\t    }\n\t  }, {\n\t    key: \"verifyCode\",\n\t    value: function verifyCode(code) {\n\t      if (!code) return false;\n\t      if (!(code instanceof Array)) return false;\n\t      if (code.length !== this.code.length) return false;\n\t\n\t      var _code$slice = code.slice(-1),\n\t          _code$slice2 = _slicedToArray(_code$slice, 1),\n\t          signalEnd = _code$slice2[0];\n\t\n\t      var _code$slice3 = this.code.slice(-1),\n\t          _code$slice4 = _slicedToArray(_code$slice3, 1),\n\t          codeEnd = _code$slice4[0];\n\t\n\t      var coeff = signalEnd / codeEnd;\n\t      var result = true;\n\t      var fluctuation = this.fluctuation;\n\t      this.code.forEach(function (codeItem, index) {\n\t        var stamp = code[index] / coeff;\n\t        var withinRange = stamp + fluctuation >= codeItem && stamp - fluctuation <= codeItem;\n\t        if (!withinRange) result = false;\n\t      });\n\t\n\t      return result;\n\t    }\n\t  }]);\n\t\n\t  return Auth;\n\t}();\n\t\n\texports.Auth = Auth;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}