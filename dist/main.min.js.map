{"version":3,"sources":["main.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_Locker","_Auth","locker","Locker","buttonPin","BTN1","servoPin","P3","auth","Auth","DEFAULT_CODE","setCode","fluctuation","on","code","authenticated","verifyCode","servo","move","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Utils","_Devices","options","events","setupServo","button","setupButton","pin","btnClick","isFirstPress","firstPressTimestamp","Date","timestamp","deltaTime","detectionDebounced","signalTimestamps","push","_this","detection","cb","debounce","setWatch","repeat","edge","Servo","eventName","callback","func","wait","immediate","timeoutId","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","DEFAULT_DURATION","DEFAULT_INTERVAL","currentInterval","currentPosition","range","offset","position","duration","clearInterval","initialPosition","amt","moveFn","digitalPulse","E","clip","setInterval","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","Array","isArray","_code$slice","slice","_code$slice2","signalEnd","_code$slice3","_code$slice4","codeEnd","coeff","result","forEach","codeItem","index","stamp","withinRange"],"mappings":"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","file":"main.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"main\"] = factory();\n\telse\n\t\troot[\"main\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _Locker = __webpack_require__(1);\n\t\n\tvar _Auth = __webpack_require__(4);\n\t\n\tvar locker = new _Locker.Locker({\n\t  buttonPin: BTN1,\n\t  servoPin: P3\n\t});\n\t\n\tvar auth = new _Auth.Auth();\n\t\n\t// TODO: set the code manually\n\tvar DEFAULT_CODE = [189.81586904765, 380.28420238092, 591.84163095231, 1036.09701785712, 1266.62794642860, 1892.38363095244, 2117.92424404760];\n\tauth.setCode(DEFAULT_CODE);\n\tauth.fluctuation = 200;\n\t\n\tlocker.on('code-detected', function (code) {\n\t  var authenticated = auth.verifyCode(code);\n\t  locker.servo.move(authenticated ? 0 : 1, 1000);\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Locker = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(2);\n\t\n\tvar _Devices = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Locker = function () {\n\t  function Locker(options) {\n\t    _classCallCheck(this, Locker);\n\t\n\t    this.events = {};\n\t\n\t    servoPin = options.servoPin;\n\t    buttonPin = options.buttonPin;\n\t\n\t    this.servo = this.setupServo(servoPin);\n\t    this.button = this.setupButton(buttonPin);\n\t  }\n\t\n\t  _createClass(Locker, [{\n\t    key: \"setupButton\",\n\t    value: function setupButton(pin) {\n\t      var _this = this;\n\t\n\t      var isFirstPress = false;\n\t      var firstPressTimestamp = null;\n\t      var signalTimestamps = [];\n\t      var detection = function detection() {\n\t        isFirstPress = true;\n\t        var cb = _this.events['code-detected'] || function () {};\n\t        cb(signalTimestamps);\n\t        signalTimestamps = [];\n\t      };\n\t      var detectionDebounced = (0, _Utils.debounce)(detection, 2000);\n\t\n\t      function btnClick() {\n\t\n\t        if (isFirstPress) {\n\t          firstPressTimestamp = new Date();\n\t          isFirstPress = false;\n\t        } else {\n\t          var timestamp = new Date();\n\t          var deltaTime = timestamp - firstPressTimestamp;\n\t          detectionDebounced();\n\t          signalTimestamps.push(deltaTime);\n\t        }\n\t      }\n\t\n\t      setWatch(btnClick, pin, { repeat: true, edge: \"rising\" });\n\t\n\t      return pin;\n\t    }\n\t  }, {\n\t    key: \"setupServo\",\n\t    value: function setupServo(pin) {\n\t      var servo = new _Devices.Servo(pin);\n\t      return servo;\n\t      // servo.move(1, 3000); // move to position 0.5 over 3 seconds\n\t    }\n\t  }, {\n\t    key: \"on\",\n\t    value: function on(eventName, callback) {\n\t      this.events[eventName] = callback;\n\t    }\n\t  }]);\n\t\n\t  return Locker;\n\t}();\n\t\n\texports.Locker = Locker;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar debounce = function debounce(func, wait, immediate) {\n\t  var timeoutId = null;\n\t  return function () {\n\t    var context = this,\n\t        args = arguments;\n\t    var later = function later() {\n\t      timeoutId = null;\n\t      if (!immediate) func.apply(context, args);\n\t    };\n\t    var callNow = immediate && !timeoutId;\n\t    if (timeoutId) clearTimeout(timeoutId);\n\t    timeoutId = setTimeout(later, wait);\n\t    if (callNow) func.apply(context, args);\n\t  };\n\t};\n\t\n\texports.debounce = debounce;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/*\n\t  Servo motor utility module\n\t  example:\n\t\n\t  ```\n\t    import { Servo } from \"./Devices\";\n\t    let servo = new Servo(P3);\n\t\n\t    s.move(1); // moving to position 1 over 1 second\n\t    s.move(0); // moving to position 0 over 1 second\n\t    s.move(0.5, 3000); // moving to position 0.5 over 3 seconds\n\t\n\t    // moving to position 0 over 1 second, then move to position 1\n\t    s.move(0, 1000, function() {\n\t      s.move(1, 1000);\n\t    });\n\t  ```\n\t*/\n\t\n\tvar DEFAULT_DURATION = 1000;\n\tvar DEFAULT_INTERVAL = 20;\n\tvar Servo = function () {\n\t  function Servo(pin, options) {\n\t    _classCallCheck(this, Servo);\n\t\n\t    this.pin = pin;\n\t    this.currentInterval = null;\n\t    this.currentPosition = null;\n\t    if (options && options.range) {\n\t      this.range = options.range;\n\t      this.offset = 1.5 - options.range / 2;\n\t    } else {\n\t      this.offset = 1;\n\t      this.range = 1;\n\t    }\n\t  }\n\t\n\t  _createClass(Servo, [{\n\t    key: \"move\",\n\t    value: function move(position, duration, cb) {\n\t      var _this = this;\n\t\n\t      if (!duration) duration = DEFAULT_DURATION;\n\t      if (!this.currentPosition) this.currentPosition = position;\n\t      if (this.currentInterval) clearInterval(this.currentInterval);\n\t\n\t      var initialPosition = this.currentPosition;\n\t      var amt = 0;\n\t\n\t      var moveFn = function moveFn() {\n\t\n\t        if (amt > 1) {\n\t          clearInterval(_this.currentInterval);\n\t          delete _this.currentInterval;\n\t          amt = 1;\n\t          if (cb) cb();\n\t        }\n\t        _this.currentPosition = position * amt + initialPosition * (1 - amt);\n\t        digitalPulse(_this.pin, 1, _this.offset + E.clip(_this.currentPosition, 0, 1) * _this.range);\n\t        amt += 1000.0 / (DEFAULT_INTERVAL * duration);\n\t      };\n\t\n\t      this.currentInterval = setInterval(moveFn, DEFAULT_INTERVAL);\n\t    }\n\t  }]);\n\t\n\t  return Servo;\n\t}();\n\t\n\texports.Servo = Servo;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Auth = function () {\n\t  function Auth() {\n\t    _classCallCheck(this, Auth);\n\t\n\t    this.code = []; // storing key code, an array of timestamps\n\t    this.fluctuation = 0.1;\n\t  }\n\t\n\t  _createClass(Auth, [{\n\t    key: \"setCode\",\n\t    value: function setCode(code) {\n\t      if (!code) return;\n\t      if (!(code instanceof Array)) return;\n\t      this.code = code;\n\t    }\n\t  }, {\n\t    key: \"getCode\",\n\t    value: function getCode() {\n\t      return this.code;\n\t    }\n\t  }, {\n\t    key: \"verifyCode\",\n\t    value: function verifyCode(code) {\n\t      if (!code) return false;\n\t      if (!(code instanceof Array)) return false;\n\t      if (code.length !== this.code.length) return false;\n\t\n\t      var _code$slice = code.slice(-1),\n\t          _code$slice2 = _slicedToArray(_code$slice, 1),\n\t          signalEnd = _code$slice2[0];\n\t\n\t      var _code$slice3 = this.code.slice(-1),\n\t          _code$slice4 = _slicedToArray(_code$slice3, 1),\n\t          codeEnd = _code$slice4[0];\n\t\n\t      var coeff = signalEnd / codeEnd;\n\t      var result = true;\n\t      var fluctuation = this.fluctuation;\n\t      this.code.forEach(function (codeItem, index) {\n\t        var stamp = code[index] / coeff;\n\t        var withinRange = stamp + fluctuation >= codeItem && stamp - fluctuation <= codeItem;\n\t        if (!withinRange) result = false;\n\t      });\n\t\n\t      return result;\n\t    }\n\t  }]);\n\t\n\t  return Auth;\n\t}();\n\t\n\texports.Auth = Auth;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}